; Created by PMAC Win32 Driver from:C:\Users\jkelley\Documents\JOBS\SPASM\Code\SPASM\SPASM\UMAC\PMCs\pmc_1_Home.pmc
;
;C:\Users\jkelley\Documents\JOBS\SPASM\Code\SPASM\SPASM\UMAC\PMCs\pmc_1_Home.pmc
CLOSE;12
DELETE GATHER;13
OPEN PROG_1_HOME CLEAR;16
MAXIS1HOMEDONE = FALSE;18
MAXIS2HOMEDONE = FALSE;19
MAXIS3HOMEDONE = FALSE;20
MAXIS4HOMEDONE = FALSE;21
ONEEDLEBLOCK = 0;24
DWELL(1);25
IAXIS1FOLLOWERROR = PLNEEDLEHOMEFFE;28
IAXIS1HOMEVEL = 1;29
IAXIS1HOMEOFFSET = PLNEEDLEHOMEOFFSET;30
IAXIS1HOMECAPTURE = 1;31
IAXIS1HOMEFLAG = 0;32
IAXIS2FOLLOWERROR = PRNEEDLEHOMEFFE;35
IAXIS2HOMEVEL = 1;36
IAXIS2HOMEOFFSET = PRNEEDLEHOMEOFFSET;37
IAXIS2HOMECAPTURE = 1;38
IAXIS2HOMEFLAG = 0;39
IAXIS3FOLLOWERROR = PLOOPERHOMEFFE;42
IAXIS3HOMEVEL = 1;43
IAXIS3HOMEOFFSET = PLOOPERHOMEOFFSET;44
IAXIS3HOMECAPTURE = 1;45
IAXIS3HOMEFLAG = 0;46
IAXIS4FOLLOWERROR = PXAXISHOMEFFE;49
IAXIS4CONFIGWORD = $20001;50
IAXIS4HOMEVEL = -12.0;51
IAXIS4HOMEOFFSET = PTRAVERSEHOMEOFFSET;52
IAXIS4HOMECAPTURE = 2;53
IAXIS4HOMEFLAG = 2;54
IAXIS4NEGLIMIT = 0;58
IAXIS4POSLIMIT = 0;59
HOME3,4;62
IAXIS3FOLLOWERROR = PLOOPERFFE;65
IAXIS4FOLLOWERROR = PXAXISFFE;66
INC;69
TS(20);70
TM(1000);71
C(150);72
IF(PREVERSELOOPERINSTALLED = TRUE);75
HOME1;78
DWELL(1);79
TS(20);82
TM(1500);83
C(-300);84
DWELL(1);85
HOME2;88
DWELL(1);89
ELSE;90
HOME1,2;93
DWELL(1000);94
ENDIF;96
IAXIS1FOLLOWERROR = PLNEEDLEFFE;99
IAXIS2FOLLOWERROR = PRNEEDLEFFE;100
ABS(C);104
TS(20);105
TM(300);106
C(0);107
IAXIS4CONFIGWORD=$1;110
IF(MAXIS1HOMEDONE = FALSE OR MAXIS2HOMEDONE = FALSE OR MAXIS3HOMEDONE = FALSE OR MAXIS4HOMEDONE = FALSE);112
IF(MAXIS1HOMEDONE = FALSE);115
PUMACERROR = AXIS1_HOME_FAILED;116
ENDIF;117
IF(MAXIS2HOMEDONE = FALSE);118
PUMACERROR = AXIS2_HOME_FAILED;119
ENDIF;120
IF(MAXIS3HOMEDONE = FALSE);123
PUMACERROR = AXIS3_HOME_FAILED;124
ENDIF;125
IF(MAXIS4HOMEDONE = FALSE);128
PUMACERROR = AXIS4_HOME_FAILED;129
ENDIF;130
ELSE;132
MMACHINESTATUS0 = MMACHINESTATUS0 | HOME_DONE;134
ENDIF;136
CLOSE;140
CLOSE
